import{T as L}from"./TeacherList-3bbd6b56.js";import{u as R,f as U,r as j,g as q,h as z,a as _,o as l,c as p,b as s,e as d,t as i,i as a,j as m,F as g,k as y,d as w,w as h,l as v,p as F,m as G}from"./index-9dd452db.js";import{u as P}from"./UserInfo-2014a600.js";import{_ as $}from"./plugin-vueexport-helper-c27b6911.js";const r=u=>(F("data-v-9d97d740"),u=u(),G(),u),H={class:"detail-wrap"},M={class:"teacher"},W={class:"teacher-info"},X={class:"teacher-info-item"},J=r(()=>s("span",{class:"key-info"},"编号：",-1)),K={class:"teacher-info-item"},O=r(()=>s("span",{class:"key-info"},"艺名：",-1)),Y={class:"teacher-info-item"},Z=r(()=>s("span",{class:"key-info"},"年龄：",-1)),ee={class:"teacher-info-item"},se=r(()=>s("span",{class:"key-info"},"位置：",-1)),te={class:"teacher-info-item"},oe={key:0,class:"key-info"},ae={class:"teacher-info-item"},ne=r(()=>s("span",{class:"key-info"},"价格：",-1)),ie={key:0,class:"teacher-info-item"},ce=r(()=>s("span",{class:"key-info"},"联系方式：",-1)),le={class:"teacher-photo"},de=["src"],_e=r(()=>s("img",{src:"https://tanhua11111234.oss-cn-hangzhou.aliyuncs.com/wx.jpeg",class:"vx-image"},null,-1)),re={class:"submit-wrap"},pe={__name:"Detail",setup(u){const f=R(),k=U(),e=j({showDialog:!1,id:"",detailData:{},distance:f.query.distance,showSheet:!1,isVip:!1,sheetActions:[{name:"百度地图"},{name:"高德地图"}],images:[],previewShow:!1,previewIndex:0}),S=()=>{k.push({path:"/Login"})},x=(c,o)=>{console.log(o),e.previewShow=!0,e.previewIndex=o},V=c=>{e.previewIndex=c},t=q(()=>{const{id:c}=f.query;return L.find(o=>o.id===c)}),I=c=>{e.showSheet=!1,c.name==="百度地图"&&(location.href=`iosamap://path?sourceApplication${t.location}&sid=BGVIS1&slat=39.92848272&slon=116.39560823&sname=A&did=BGVIS2&dlat=39.98848272&dlon=116.47560823&dname=B&dev=0&t=0`)};z(async()=>{e.isVip=C(),e.images=t.value.pic});const C=()=>{const c=localStorage.getItem("userPhone");return!!P.find(o=>o.id===c)};return(c,o)=>{const D=_("van-tag"),b=_("van-swipe-item"),B=_("van-swipe"),A=_("van-dialog"),N=_("van-button"),Q=_("van-action-sheet"),T=_("van-image-preview");return l(),p("div",H,[s("div",M,[s("div",W,[s("div",X,[J,d(i(a(t).id),1)]),s("div",K,[O,d(i(a(t).name),1)]),s("div",Y,[Z,d(i(a(t).age)+"年",1)]),s("div",ee,[se,d(i(a(t).location)+"(距您："+i(e.distance)+") ",1)]),s("div",te,[a(t).hometown?(l(),p("span",oe,"家乡：")):m("",!0),d(i(a(t).hometown),1)]),s("div",ae,[ne,d("¥"+i(a(t).price),1)]),e.isVip?(l(),p("div",ie,[ce,d("QQ："+i(a(t).QQ||"--")+" WX："+i(a(t).wx||"--"),1)])):m("",!0),(l(!0),p(g,null,y(a(t).tags,n=>(l(),v(D,{type:"danger",key:n,class:"item-tag"},{default:h(()=>[d(i(n),1)]),_:2},1024))),128))]),s("div",le,[w(B,{autoplay:3e3,"lazy-render":"",class:"my-swipe"},{default:h(()=>[(l(!0),p(g,null,y(a(t).pic,(n,E)=>(l(),v(b,{key:n,onClick:he=>x(a(t).pic,E)},{default:h(()=>[s("img",{src:n,class:"swipe-img"},null,8,de)]),_:2},1032,["onClick"]))),128))]),_:1})])]),e.isVip?m("",!0):(l(),v(A,{key:0,show:e.showDialog,"onUpdate:show":o[0]||(o[0]=n=>e.showDialog=n),title:"添加小二vx后获取","show-cancel-button":""},{default:h(()=>[_e]),_:1},8,["show"])),s("div",re,[e.isVip?m("",!0):(l(),v(N,{key:0,type:"success",onClick:S,class:"submit-btn"},{default:h(()=>[d("开通会员，解锁全部联系方式")]),_:1}))]),w(Q,{show:e.showSheet,"onUpdate:show":o[1]||(o[1]=n=>e.showSheet=n),actions:e.sheetActions,onSelect:I},null,8,["show","actions"]),w(T,{show:e.previewShow,"onUpdate:show":o[2]||(o[2]=n=>e.previewShow=n),images:e.images,onChange:V},null,8,["show","images"])])}}},fe=$(pe,[["__scopeId","data-v-9d97d740"]]);export{fe as default};
