import{T as L}from"./TeacherList-2aa252ee.js";import{u as P,g as R,r as U,h as j,i as q,a as d,b as _,c as p,d as e,f as c,t as i,j as a,k as m,F as g,l as y,e as w,w as h,m as v,p as z,n as F}from"./index-8d424708.js";import{u as G}from"./UserInfo-4d239d4f.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";const r=u=>(z("data-v-01a2f349"),u=u(),F(),u),H={class:"detail-wrap"},M={class:"teacher"},W={class:"teacher-info"},X={class:"teacher-info-item"},J=r(()=>e("span",{class:"key-info"},"编号：",-1)),K={class:"teacher-info-item"},O=r(()=>e("span",{class:"key-info"},"艺名：",-1)),Y={class:"teacher-info-item"},Z=r(()=>e("span",{class:"key-info"},"年龄：",-1)),ee={class:"teacher-info-item"},se=r(()=>e("span",{class:"key-info"},"位置：",-1)),te={class:"teacher-info-item"},oe={key:0,class:"key-info"},ae={class:"teacher-info-item"},ne=r(()=>e("span",{class:"key-info"},"价格：",-1)),ie={class:"teacher-info-item"},ce=r(()=>e("span",{class:"key-info"},"资源价格：",-1)),le={key:0,class:"teacher-info-item"},_e=r(()=>e("span",{class:"key-info"},"联系方式：",-1)),re={class:"teacher-photo"},de=["src"],pe=r(()=>e("img",{src:"https://tanhua11111234.oss-cn-hangzhou.aliyuncs.com/wx.jpeg",class:"vx-image"},null,-1)),he={class:"submit-wrap"},ue={__name:"Detail",setup(u){const f=P(),k=R(),s=U({showDialog:!1,id:"",detailData:{},distance:f.query.distance,showSheet:!1,isVip:!1,sheetActions:[{name:"百度地图"},{name:"高德地图"}],images:[],previewShow:!1,previewIndex:0}),S=()=>{k.push({path:"/Login"})},x=(l,o)=>{console.log(o),s.previewShow=!0,s.previewIndex=o},V=l=>{s.previewIndex=l},t=j(()=>{const{id:l}=f.query;return L.find(o=>o.id===l)}),I=l=>{s.showSheet=!1,l.name==="百度地图"&&(location.href=`iosamap://path?sourceApplication${t.location}&sid=BGVIS1&slat=39.92848272&slon=116.39560823&sname=A&did=BGVIS2&dlat=39.98848272&dlon=116.47560823&dname=B&dev=0&t=0`)};q(async()=>{s.isVip=C(),s.images=t.value.pic});const C=()=>{const l=localStorage.getItem("userPhone");return!!G.find(o=>o.id===l)};return(l,o)=>{const D=d("van-tag"),b=d("van-swipe-item"),B=d("van-swipe"),A=d("van-dialog"),N=d("van-button"),Q=d("van-action-sheet"),T=d("van-image-preview");return _(),p("div",H,[e("div",M,[e("div",W,[e("div",X,[J,c(i(a(t).id),1)]),e("div",K,[O,c(i(a(t).name),1)]),e("div",Y,[Z,c(i(a(t).age)+"年",1)]),e("div",ee,[se,c(i(a(t).location)+"(距您："+i(s.distance)+") ",1)]),e("div",te,[a(t).hometown?(_(),p("span",oe,"家乡：")):m("",!0),c(i(a(t).hometown),1)]),e("div",ae,[ne,c("¥"+i(a(t).price),1)]),e("div",ie,[ce,c("¥"+i(a(t).concatPrice),1)]),s.isVip?(_(),p("div",le,[_e,c("QQ："+i(a(t).QQ||"--")+" WX："+i(a(t).wx||"--"),1)])):m("",!0),(_(!0),p(g,null,y(a(t).tags,n=>(_(),v(D,{type:"warning",key:n,class:"item-tag"},{default:h(()=>[c(i(n),1)]),_:2},1024))),128))]),e("div",re,[w(B,{autoplay:3e3,"lazy-render":"",class:"my-swipe"},{default:h(()=>[(_(!0),p(g,null,y(a(t).pic,(n,E)=>(_(),v(b,{key:n,onClick:me=>x(a(t).pic,E)},{default:h(()=>[e("img",{src:n,class:"swipe-img"},null,8,de)]),_:2},1032,["onClick"]))),128))]),_:1})])]),s.isVip?m("",!0):(_(),v(A,{key:0,show:s.showDialog,"onUpdate:show":o[0]||(o[0]=n=>s.showDialog=n),title:"添加小二vx后获取","show-cancel-button":""},{default:h(()=>[pe]),_:1},8,["show"])),e("div",he,[s.isVip?m("",!0):(_(),v(N,{key:0,type:"success",onClick:S,class:"submit-btn"},{default:h(()=>[c("开通会员，解锁全部联系方式")]),_:1}))]),w(Q,{show:s.showSheet,"onUpdate:show":o[1]||(o[1]=n=>s.showSheet=n),actions:s.sheetActions,onSelect:I},null,8,["show","actions"]),w(T,{show:s.previewShow,"onUpdate:show":o[2]||(o[2]=n=>s.previewShow=n),images:s.images,onChange:V},null,8,["show","images"])])}}},ye=$(ue,[["__scopeId","data-v-01a2f349"]]);export{ye as default};
