import{T}from"./TeacherList-c3454e62.js";import{i as q,g as E,e as y,m as L,s as R,_ as U,u as j,h as z,r as F,j as G,k as Z,a as h,b as r,c as u,d as e,f as c,t as n,l as o,n as f,F as k,p as S,w as m,q as v,v as $,x as H}from"./index-97140ed1.js";import{u as M}from"./UserInfo-4d239d4f.js";import{m as O,u as W}from"./mount-component-cd6d9b79.js";let g;const X={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};function J(){({instance:g}=O({setup(){const{state:t,toggle:p}=W(),w=()=>{t.images=[]};return()=>y(R,L(t,{onClosed:w,"onUpdate:show":p}),null)}}))}const K=(t,p=0)=>{if(q)return g||J(),t=Array.isArray(t)?{images:t,startPosition:p}:t,g.open(E({},X,t)),g};const _=t=>($("data-v-8b0aeb12"),t=t(),H(),t),Y={class:"detail-wrap"},ee={class:"teacher"},se={class:"teacher-info"},te={class:"teacher-info-item"},oe=_(()=>e("span",{class:"key-info"},"编号：",-1)),ae={class:"teacher-info-item"},ne=_(()=>e("span",{class:"key-info"},"艺名：",-1)),ie={class:"teacher-info-item"},ce=_(()=>e("span",{class:"key-info"},"年龄：",-1)),le={class:"teacher-info-item"},re=_(()=>e("span",{class:"key-info"},"位置：",-1)),de={class:"teacher-info-item"},_e={key:0,class:"key-info"},pe={class:"teacher-info-item"},he=_(()=>e("span",{class:"key-info"},"价格：",-1)),ue={class:"teacher-info-item"},me=_(()=>e("span",{class:"key-info"},"资源价格：",-1)),fe={key:0,class:"teacher-info-item"},ve=_(()=>e("span",{class:"key-info"},"联系方式：",-1)),ge={class:"teacher-photo"},we=["src"],ye=_(()=>e("img",{src:"https://tanhua11111234.oss-cn-hangzhou.aliyuncs.com/wx.jpeg",class:"vx-image"},null,-1)),ke={__name:"Detail",setup(t){const p=j(),w=z(),a=F({showDialog:!1,id:"",detailData:{},distance:p.query.distance,showSheet:!1,isVip:!1,sheetActions:[{name:"百度地图"},{name:"高德地图"}]}),b=()=>{w.push({path:"/Login"})},C=(d,i)=>{K({images:d,startPosition:i,closeable:!0})},s=G(()=>{const{id:d}=p.query;return T.find(i=>i.id===d)}),x=d=>{a.showSheet=!1,d.name==="百度地图"&&(location.href=`iosamap://path?sourceApplication${s.location}&sid=BGVIS1&slat=39.92848272&slon=116.39560823&sname=A&did=BGVIS2&dlat=39.98848272&dlon=116.47560823&dname=B&dev=0&t=0`)};Z(async()=>{a.isVip=I(),console.log("mounted")});const I=()=>{const d=localStorage.getItem("userPhone");return!!M.find(i=>i.id===d)};return(d,i)=>{const V=h("van-tag"),D=h("van-swipe-item"),P=h("van-swipe"),B=h("van-dialog"),A=h("van-button"),N=h("van-action-sheet");return r(),u("div",Y,[e("div",ee,[e("div",se,[e("div",te,[oe,c(n(o(s).id),1)]),e("div",ae,[ne,c(n(o(s).name),1)]),e("div",ie,[ce,c(n(o(s).age)+"年",1)]),e("div",le,[re,c(n(o(s).location)+"(距您："+n(a.distance)+") ",1)]),e("div",de,[o(s).hometown?(r(),u("span",_e,"家乡：")):f("",!0),c(n(o(s).hometown),1)]),e("div",pe,[he,c("¥"+n(o(s).price),1)]),e("div",ue,[me,c("¥"+n(o(s).concatPrice),1)]),a.isVip?(r(),u("div",fe,[ve,c("QQ："+n(o(s).QQ||"--")+" WX："+n(o(s).wx||"--"),1)])):f("",!0),(r(!0),u(k,null,S(o(s).tags,l=>(r(),v(V,{type:"warning",key:l,class:"item-tag"},{default:m(()=>[c(n(l),1)]),_:2},1024))),128))]),e("div",ge,[y(P,{autoplay:3e3,"lazy-render":"",class:"my-swipe"},{default:m(()=>[(r(!0),u(k,null,S(o(s).pic,(l,Q)=>(r(),v(D,{key:l,onClick:Se=>C(o(s).pic,Q)},{default:m(()=>[e("img",{src:l},null,8,we)]),_:2},1032,["onClick"]))),128))]),_:1})])]),a.isVip?f("",!0):(r(),v(B,{key:0,show:a.showDialog,"onUpdate:show":i[0]||(i[0]=l=>a.showDialog=l),title:"添加小二vx后获取","show-cancel-button":""},{default:m(()=>[ye]),_:1},8,["show"])),a.isVip?f("",!0):(r(),v(A,{key:1,type:"success",onClick:b,class:"submit-btn"},{default:m(()=>[c("开通会员，解锁全部联系方式")]),_:1})),y(N,{show:a.showSheet,"onUpdate:show":i[1]||(i[1]=l=>a.showSheet=l),actions:a.sheetActions,onSelect:x},null,8,["show","actions"])])}}},Ve=U(ke,[["__scopeId","data-v-8b0aeb12"]]);export{Ve as default};
