import{T as N}from"./TeacherList-594c2685.js";import{k as T,r as S,l as q,m as b,n as z,e as v,q as R,s as U,_ as j,u as F,g as G,v as Z,x as $,a as u,b as h,c as w,d as t,f as i,t as l,y as a,i as H,F as y,h as C,w as m,z as k,p as L,j as M}from"./index-6a3928da.js";function O(){const e=S({show:!1}),o=p=>{e.show=p},s=p=>{b(e,p,{transitionAppear:!0}),o(!0)},f=()=>o(!1);return q({open:s,close:f,toggle:o}),{open:s,close:f,state:e,toggle:o}}function J(e){const o=T(e),s=document.createElement("div");return document.body.appendChild(s),{instance:o.mount(s),unmount(){o.unmount(),document.body.removeChild(s)}}}let g;const K={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};function Q(){({instance:g}=J({setup(){const{state:e,toggle:o}=O(),s=()=>{e.images=[]};return()=>v(U,R(e,{onClosed:s,"onUpdate:show":o}),null)}}))}const W=(e,o=0)=>{if(z)return g||Q(),e=Array.isArray(e)?{images:e,startPosition:o}:e,g.open(b({},K,e)),g};const d=e=>(L("data-v-15766eb0"),e=e(),M(),e),X={class:"detail-wrap"},Y={class:"teacher"},ee={class:"teacher-info"},te={class:"teacher-info-item"},se=d(()=>t("span",{class:"key-info"},"编号：",-1)),oe={class:"teacher-info-item"},ne=d(()=>t("span",{class:"key-info"},"艺名：",-1)),ae={class:"teacher-info-item"},ce=d(()=>t("span",{class:"key-info"},"年龄：",-1)),ie={class:"teacher-info-item"},le=d(()=>t("span",{class:"key-info"},"位置：",-1)),re={class:"teacher-info-item"},de={key:0,class:"key-info"},_e={class:"teacher-info-item"},ue=d(()=>t("span",{class:"key-info"},"价格：",-1)),he={class:"teacher-info-item"},pe=d(()=>t("span",{class:"key-info"},"资源价格：",-1)),me={class:"teacher-photo"},ve=["src"],fe=d(()=>t("img",{src:"https://tanhua11111234.oss-cn-hangzhou.aliyuncs.com/wx.jpeg",class:"vx-image"},null,-1)),we={__name:"Detail",setup(e){const o=F();G();const s=S({showDialog:!1,id:"",detailData:{},distance:o.query.distance,showSheet:!1,sheetActions:[{name:"百度地图"},{name:"高德地图"}]}),f=()=>{s.showDialog=!0},p=(_,r)=>{W({images:_,startPosition:r,closeable:!0})},n=Z(()=>{const{id:_}=o.query;return N.find(r=>r.id===_)}),x=_=>{s.showSheet=!1,_.name==="百度地图"&&(location.href=`iosamap://path?sourceApplication${n.location}&sid=BGVIS1&slat=39.92848272&slon=116.39560823&sname=A&did=BGVIS2&dlat=39.98848272&dlon=116.47560823&dname=B&dev=0&t=0`)};return $(async()=>{console.log("mounted")}),(_,r)=>{const I=u("van-tag"),D=u("van-swipe-item"),A=u("van-swipe"),B=u("van-dialog"),P=u("van-button"),V=u("van-action-sheet");return h(),w("div",X,[t("div",Y,[t("div",ee,[t("div",te,[se,i(l(a(n).id),1)]),t("div",oe,[ne,i(l(a(n).name),1)]),t("div",ae,[ce,i(l(a(n).age)+"年",1)]),t("div",ie,[le,i(l(a(n).location)+"(距您："+l(s.distance)+") ",1)]),t("div",re,[a(n).hometown?(h(),w("span",de,"家乡：")):H("",!0),i(l(a(n).hometown),1)]),t("div",_e,[ue,i("¥"+l(a(n).price),1)]),t("div",he,[pe,i("¥"+l(a(n).concatPrice),1)]),(h(!0),w(y,null,C(a(n).tags,c=>(h(),k(I,{type:"warning",key:c,class:"item-tag"},{default:m(()=>[i(l(c),1)]),_:2},1024))),128))]),t("div",me,[v(A,{autoplay:3e3,"lazy-render":"",class:"my-swipe"},{default:m(()=>[(h(!0),w(y,null,C(a(n).pic,(c,E)=>(h(),k(D,{key:c,onClick:ge=>p(a(n).pic,E)},{default:m(()=>[t("img",{src:c},null,8,ve)]),_:2},1032,["onClick"]))),128))]),_:1})])]),v(B,{show:s.showDialog,"onUpdate:show":r[0]||(r[0]=c=>s.showDialog=c),title:"添加小二vx后获取","show-cancel-button":""},{default:m(()=>[fe]),_:1},8,["show"]),v(P,{type:"success",onClick:f,class:"submit-btn"},{default:m(()=>[i("获取联系方式")]),_:1}),v(V,{show:s.showSheet,"onUpdate:show":r[1]||(r[1]=c=>s.showSheet=c),actions:s.sheetActions,onSelect:x},null,8,["show","actions"])])}}},ke=j(we,[["__scopeId","data-v-15766eb0"]]);export{ke as default};
