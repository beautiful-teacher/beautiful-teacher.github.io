import{T as w}from"./TeacherList-2aa252ee.js";import{L}from"./TeacherList-d496db57.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";import{r as g,o as y,a as v,b,c as B,d as k,e as i,w as u,f}from"./index-a2aabec9.js";const C=[{value:"110101",text:"东城区"},{value:"110102",text:"西城区"},{value:"110105",text:"朝阳区"},{value:"110106",text:"丰台区"},{value:"110107",text:"石景山区"},{value:"110108",text:"海淀区"},{value:"110109",text:"门头沟区"},{value:"110111",text:"房山区"},{value:"110112",text:"通州区"},{value:"110113",text:"顺义区"},{value:"110114",text:"昌平区"},{value:"110115",text:"大兴区"},{value:"110116",text:"怀柔区"},{value:"110117",text:"平谷区"},{value:"110118",text:"密云区"},{value:"110119",text:"延庆区"}];const P={class:"greetings"},D={class:"notice-wrap"},I={__name:"List",props:{},setup(T){const s=g({searchKey:"",list:w,map:new BMap.Map("container"),myLongitude:0,myLatitude:0,ak:"DwkPt9ifSC1skP60XOKVdKnD047AF30a",areaCode:"",areaList:C});y(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{const{longitude:n,latitude:t}=e.coords;console.log(n,t),s.myLongitude=n,s.myLatitude=t,h()},e=>{throw e.message})});const h=e=>{new BMap.Map("container").centerAndZoom(new BMap.Point(s.myLongitude,s.myLatitude),12);let t=new BMap.Geocoder;for(const a of s.list)t.getPoint(a.location,o=>{if(o){const{lng:l,lat:c}=o,{myLongitude:_,myLatitude:p}=s;Reflect.set(a,"distance",x(_,p,l,c)),a.distance=x(_,p,l,c)}else alert("您选择的地址没有解析到结果！")},"北京")},x=(e,n,t,a)=>{let o="";if(e!=null&&n!=null&&t!=null&&a!=null){t=t*1,a=a*1;let l=d(e),c=d(t),_=l-c,p=d(n)-d(a),r=2*Math.asin(Math.sqrt(Math.pow(Math.sin(_/2),2)+Math.cos(l)*Math.cos(c)*Math.pow(Math.sin(p/2),2)));r=r*6378.137,r=Math.round(r*1e4)/1e4;let m=r;m&&(parseInt(m)>=1?o=m.toFixed(1)+"km":o=m*1e3+"m")}return o},d=e=>e*Math.PI/180;return(e,n)=>{const t=v("van-swipe-item"),a=v("van-swipe"),o=v("van-notice-bar");return b(),B("div",P,[k("div",D,[i(o,{"left-icon":"volume-o",scrollable:!1},{default:u(()=>[i(a,{vertical:"",class:"notice-swipe",autoplay:4e3,"show-indicators":!1,scrollable:""},{default:u(()=>[i(t,null,{default:u(()=>[f("有需要合作推广的小姐姐，+Q 3483844719")]),_:1}),i(t,null,{default:u(()=>[f("限时会员只需要198，解锁全部老师联系方式")]),_:1}),i(t,null,{default:u(()=>[f("投放广告点下方合作")]),_:1})]),_:1})]),_:1})]),i(L,{listData:s.list},null,8,["listData"])])}}},N=M(I,[["__scopeId","data-v-37e6b70f"]]);export{N as default};
