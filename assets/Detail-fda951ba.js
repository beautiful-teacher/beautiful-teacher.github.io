import{T}from"./TeacherList-f07a9ff5.js";import{k as q,r as x,l as z,m as I,n as R,e as g,q as U,s as j,_ as F,u as G,g as L,v as Z,x as $,a as p,b as _,c as m,d as s,f as l,t as i,y as a,i as y,F as C,h as S,w as f,z as k,p as H,j as M}from"./index-f300f892.js";import{u as O}from"./UserInfo-83169be6.js";function W(){const t=x({show:!1}),o=h=>{t.show=h},e=h=>{I(t,h,{transitionAppear:!0}),o(!0)},v=()=>o(!1);return z({open:e,close:v,toggle:o}),{open:e,close:v,state:t,toggle:o}}function X(t){const o=q(t),e=document.createElement("div");return document.body.appendChild(e),{instance:o.mount(e),unmount(){o.unmount(),document.body.removeChild(e)}}}let w;const J={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};function K(){({instance:w}=X({setup(){const{state:t,toggle:o}=W(),e=()=>{t.images=[]};return()=>g(j,U(t,{onClosed:e,"onUpdate:show":o}),null)}}))}const Y=(t,o=0)=>{if(R)return w||K(),t=Array.isArray(t)?{images:t,startPosition:o}:t,w.open(I({},J,t)),w};const u=t=>(H("data-v-c085a5cd"),t=t(),M(),t),ee={class:"detail-wrap"},te={class:"teacher"},se={class:"teacher-info"},oe={class:"teacher-info-item"},ne=u(()=>s("span",{class:"key-info"},"编号：",-1)),ae={class:"teacher-info-item"},ie=u(()=>s("span",{class:"key-info"},"艺名：",-1)),ce={class:"teacher-info-item"},le=u(()=>s("span",{class:"key-info"},"年龄：",-1)),re={class:"teacher-info-item"},de=u(()=>s("span",{class:"key-info"},"位置：",-1)),_e={class:"teacher-info-item"},ue={key:0,class:"key-info"},pe={class:"teacher-info-item"},he=u(()=>s("span",{class:"key-info"},"价格：",-1)),me={class:"teacher-info-item"},fe=u(()=>s("span",{class:"key-info"},"资源价格：",-1)),ve={key:0,class:"teacher-info-item"},ge=u(()=>s("span",{class:"key-info"},"联系方式：",-1)),we={class:"teacher-photo"},ye=["src"],ke=u(()=>s("img",{src:"https://tanhua11111234.oss-cn-hangzhou.aliyuncs.com/wx.jpeg",class:"vx-image"},null,-1)),Ce={__name:"Detail",setup(t){const o=G();L();const e=x({showDialog:!1,id:"",detailData:{},distance:o.query.distance,showSheet:!1,isVip:!1,sheetActions:[{name:"百度地图"},{name:"高德地图"}]}),v=()=>{e.showDialog=!0},h=(d,c)=>{Y({images:d,startPosition:c,closeable:!0})},n=Z(()=>{const{id:d}=o.query;return T.find(c=>c.id===d)}),b=d=>{e.showSheet=!1,d.name==="百度地图"&&(location.href=`iosamap://path?sourceApplication${n.location}&sid=BGVIS1&slat=39.92848272&slon=116.39560823&sname=A&did=BGVIS2&dlat=39.98848272&dlon=116.47560823&dname=B&dev=0&t=0`)};$(async()=>{e.isVip=D(),console.log("mounted")});const D=()=>{const d=localStorage.getItem("userPhone");return!!O.find(c=>c.id===d)};return(d,c)=>{const V=p("van-tag"),A=p("van-swipe-item"),P=p("van-swipe"),B=p("van-dialog"),E=p("van-button"),N=p("van-action-sheet");return _(),m("div",ee,[s("div",te,[s("div",se,[s("div",oe,[ne,l(i(a(n).id),1)]),s("div",ae,[ie,l(i(a(n).name),1)]),s("div",ce,[le,l(i(a(n).age)+"年",1)]),s("div",re,[de,l(i(a(n).location)+"(距您："+i(e.distance)+") ",1)]),s("div",_e,[a(n).hometown?(_(),m("span",ue,"家乡：")):y("",!0),l(i(a(n).hometown),1)]),s("div",pe,[he,l("¥"+i(a(n).price),1)]),s("div",me,[fe,l("¥"+i(a(n).concatPrice),1)]),e.isVip?(_(),m("div",ve,[ge,l("QQ："+i(a(n).QQ||"--")+" WX："+i(a(n).wx||"--"),1)])):y("",!0),(_(!0),m(C,null,S(a(n).tags,r=>(_(),k(V,{type:"warning",key:r,class:"item-tag"},{default:f(()=>[l(i(r),1)]),_:2},1024))),128))]),s("div",we,[g(P,{autoplay:3e3,"lazy-render":"",class:"my-swipe"},{default:f(()=>[(_(!0),m(C,null,S(a(n).pic,(r,Q)=>(_(),k(A,{key:r,onClick:Se=>h(a(n).pic,Q)},{default:f(()=>[s("img",{src:r},null,8,ye)]),_:2},1032,["onClick"]))),128))]),_:1})])]),e.isVip?y("",!0):(_(),k(B,{key:0,show:e.showDialog,"onUpdate:show":c[0]||(c[0]=r=>e.showDialog=r),title:"添加小二vx后获取","show-cancel-button":""},{default:f(()=>[ke]),_:1},8,["show"])),g(E,{type:"success",onClick:v,class:"submit-btn"},{default:f(()=>[l("获取联系方式")]),_:1}),g(N,{show:e.showSheet,"onUpdate:show":c[1]||(c[1]=r=>e.showSheet=r),actions:e.sheetActions,onSelect:b},null,8,["show","actions"])])}}},De=F(Ce,[["__scopeId","data-v-c085a5cd"]]);export{De as default};
