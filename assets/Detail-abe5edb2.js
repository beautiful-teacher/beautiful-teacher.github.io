import{T as b}from"./TeacherList-f07a9ff5.js";import{k as N,l as Q,e as g,m as T,s as q,_ as E,u as R,g as U,r as j,n as z,q as F,a as p,b as d,c as u,d as e,f as l,t as n,v as o,i as v,F as y,h as k,w as m,x as w,p as G,j as L}from"./index-1c3b7a82.js";import{u as Z}from"./UserInfo-83169be6.js";import{m as $,u as H}from"./mount-component-93688d6a.js";let f;const M={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};function O(){({instance:f}=$({setup(){const{state:t,toggle:h}=H(),a=()=>{t.images=[]};return()=>g(q,T(t,{onClosed:a,"onUpdate:show":h}),null)}}))}const W=(t,h=0)=>{if(N)return f||O(),t=Array.isArray(t)?{images:t,startPosition:h}:t,f.open(Q({},M,t)),f};const _=t=>(G("data-v-67ff4498"),t=t(),L(),t),X={class:"detail-wrap"},J={class:"teacher"},K={class:"teacher-info"},Y={class:"teacher-info-item"},ee=_(()=>e("span",{class:"key-info"},"编号：",-1)),se={class:"teacher-info-item"},te=_(()=>e("span",{class:"key-info"},"艺名：",-1)),oe={class:"teacher-info-item"},ae=_(()=>e("span",{class:"key-info"},"年龄：",-1)),ne={class:"teacher-info-item"},ie=_(()=>e("span",{class:"key-info"},"位置：",-1)),ce={class:"teacher-info-item"},le={key:0,class:"key-info"},re={class:"teacher-info-item"},de=_(()=>e("span",{class:"key-info"},"价格：",-1)),_e={class:"teacher-info-item"},he=_(()=>e("span",{class:"key-info"},"资源价格：",-1)),pe={key:0,class:"teacher-info-item"},ue=_(()=>e("span",{class:"key-info"},"联系方式：",-1)),me={class:"teacher-photo"},fe=["src"],ve=_(()=>e("img",{src:"https://tanhua11111234.oss-cn-hangzhou.aliyuncs.com/wx.jpeg",class:"vx-image"},null,-1)),we={__name:"Detail",setup(t){const h=R();U();const a=j({showDialog:!1,id:"",detailData:{},distance:h.query.distance,showSheet:!1,isVip:!1,sheetActions:[{name:"百度地图"},{name:"高德地图"}]}),S=(r,i)=>{W({images:r,startPosition:i,closeable:!0})},s=z(()=>{const{id:r}=h.query;return b.find(i=>i.id===r)}),x=r=>{a.showSheet=!1,r.name==="百度地图"&&(location.href=`iosamap://path?sourceApplication${s.location}&sid=BGVIS1&slat=39.92848272&slon=116.39560823&sname=A&did=BGVIS2&dlat=39.98848272&dlon=116.47560823&dname=B&dev=0&t=0`)};F(async()=>{a.isVip=C(),console.log("mounted")});const C=()=>{const r=localStorage.getItem("userPhone");return!!Z.find(i=>i.id===r)};return(r,i)=>{const I=p("van-tag"),V=p("van-swipe-item"),D=p("van-swipe"),P=p("van-dialog"),B=p("van-action-sheet");return d(),u("div",X,[e("div",J,[e("div",K,[e("div",Y,[ee,l(n(o(s).id),1)]),e("div",se,[te,l(n(o(s).name),1)]),e("div",oe,[ae,l(n(o(s).age)+"年",1)]),e("div",ne,[ie,l(n(o(s).location)+"(距您："+n(a.distance)+") ",1)]),e("div",ce,[o(s).hometown?(d(),u("span",le,"家乡：")):v("",!0),l(n(o(s).hometown),1)]),e("div",re,[de,l("¥"+n(o(s).price),1)]),e("div",_e,[he,l("¥"+n(o(s).concatPrice),1)]),a.isVip?(d(),u("div",pe,[ue,l("QQ："+n(o(s).QQ||"--")+" WX："+n(o(s).wx||"--"),1)])):v("",!0),(d(!0),u(y,null,k(o(s).tags,c=>(d(),w(I,{type:"warning",key:c,class:"item-tag"},{default:m(()=>[l(n(c),1)]),_:2},1024))),128))]),e("div",me,[g(D,{autoplay:3e3,"lazy-render":"",class:"my-swipe"},{default:m(()=>[(d(!0),u(y,null,k(o(s).pic,(c,A)=>(d(),w(V,{key:c,onClick:ge=>S(o(s).pic,A)},{default:m(()=>[e("img",{src:c},null,8,fe)]),_:2},1032,["onClick"]))),128))]),_:1})])]),a.isVip?v("",!0):(d(),w(P,{key:0,show:a.showDialog,"onUpdate:show":i[0]||(i[0]=c=>a.showDialog=c),title:"添加小二vx后获取","show-cancel-button":""},{default:m(()=>[ve]),_:1},8,["show"])),g(B,{show:a.showSheet,"onUpdate:show":i[1]||(i[1]=c=>a.showSheet=c),actions:a.sheetActions,onSelect:x},null,8,["show","actions"])])}}},Ce=E(we,[["__scopeId","data-v-67ff4498"]]);export{Ce as default};
