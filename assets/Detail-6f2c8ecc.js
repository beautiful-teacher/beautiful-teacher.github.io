import{T as Q}from"./TeacherList-c3454e62.js";import{k as T,l as q,e as w,m as E,s as R,_ as U,u as j,g as z,r as F,n as G,q as L,a as p,b as r,c as u,d as e,f as c,t as n,v as a,i as f,F as y,h as k,w as m,x as v,p as Z,j as $}from"./index-4594c368.js";import{u as H}from"./UserInfo-4d239d4f.js";import{m as M,u as O}from"./mount-component-1ec43a6f.js";let g;const W={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};function X(){({instance:g}=M({setup(){const{state:o,toggle:h}=O(),s=()=>{o.images=[]};return()=>w(R,E(o,{onClosed:s,"onUpdate:show":h}),null)}}))}const J=(o,h=0)=>{if(T)return g||X(),o=Array.isArray(o)?{images:o,startPosition:h}:o,g.open(q({},W,o)),g};const _=o=>(Z("data-v-1161bf5b"),o=o(),$(),o),K={class:"detail-wrap"},Y={class:"teacher"},ee={class:"teacher-info"},se={class:"teacher-info-item"},te=_(()=>e("span",{class:"key-info"},"编号：",-1)),oe={class:"teacher-info-item"},ae=_(()=>e("span",{class:"key-info"},"艺名：",-1)),ne={class:"teacher-info-item"},ie=_(()=>e("span",{class:"key-info"},"年龄：",-1)),ce={class:"teacher-info-item"},le=_(()=>e("span",{class:"key-info"},"位置：",-1)),re={class:"teacher-info-item"},de={key:0,class:"key-info"},_e={class:"teacher-info-item"},he=_(()=>e("span",{class:"key-info"},"价格：",-1)),pe={class:"teacher-info-item"},ue=_(()=>e("span",{class:"key-info"},"资源价格：",-1)),me={key:0,class:"teacher-info-item"},fe=_(()=>e("span",{class:"key-info"},"联系方式：",-1)),ve={class:"teacher-photo"},ge=["src"],we=_(()=>e("img",{src:"https://tanhua11111234.oss-cn-hangzhou.aliyuncs.com/wx.jpeg",class:"vx-image"},null,-1)),ye={__name:"Detail",setup(o){const h=j();z();const s=F({showDialog:!1,id:"",detailData:{},distance:h.query.distance,showSheet:!1,isVip:!1,sheetActions:[{name:"百度地图"},{name:"高德地图"}]}),S=()=>{s.showDialog=!0},b=(d,i)=>{J({images:d,startPosition:i,closeable:!0})},t=G(()=>{const{id:d}=h.query;return Q.find(i=>i.id===d)}),C=d=>{s.showSheet=!1,d.name==="百度地图"&&(location.href=`iosamap://path?sourceApplication${t.location}&sid=BGVIS1&slat=39.92848272&slon=116.39560823&sname=A&did=BGVIS2&dlat=39.98848272&dlon=116.47560823&dname=B&dev=0&t=0`)};L(async()=>{s.isVip=x(),console.log("mounted")});const x=()=>{const d=localStorage.getItem("userPhone");return!!H.find(i=>i.id===d)};return(d,i)=>{const I=p("van-tag"),V=p("van-swipe-item"),D=p("van-swipe"),P=p("van-dialog"),B=p("van-button"),A=p("van-action-sheet");return r(),u("div",K,[e("div",Y,[e("div",ee,[e("div",se,[te,c(n(a(t).id),1)]),e("div",oe,[ae,c(n(a(t).name),1)]),e("div",ne,[ie,c(n(a(t).age)+"年",1)]),e("div",ce,[le,c(n(a(t).location)+"(距您："+n(s.distance)+") ",1)]),e("div",re,[a(t).hometown?(r(),u("span",de,"家乡：")):f("",!0),c(n(a(t).hometown),1)]),e("div",_e,[he,c("¥"+n(a(t).price),1)]),e("div",pe,[ue,c("¥"+n(a(t).concatPrice),1)]),s.isVip?(r(),u("div",me,[fe,c("QQ："+n(a(t).QQ||"--")+" WX："+n(a(t).wx||"--"),1)])):f("",!0),(r(!0),u(y,null,k(a(t).tags,l=>(r(),v(I,{type:"warning",key:l,class:"item-tag"},{default:m(()=>[c(n(l),1)]),_:2},1024))),128))]),e("div",ve,[w(D,{autoplay:3e3,"lazy-render":"",class:"my-swipe"},{default:m(()=>[(r(!0),u(y,null,k(a(t).pic,(l,N)=>(r(),v(V,{key:l,onClick:ke=>b(a(t).pic,N)},{default:m(()=>[e("img",{src:l},null,8,ge)]),_:2},1032,["onClick"]))),128))]),_:1})])]),s.isVip?f("",!0):(r(),v(P,{key:0,show:s.showDialog,"onUpdate:show":i[0]||(i[0]=l=>s.showDialog=l),title:"添加小二vx后获取","show-cancel-button":""},{default:m(()=>[we]),_:1},8,["show"])),s.isVip?f("",!0):(r(),v(B,{key:1,type:"success",onClick:S,class:"submit-btn"},{default:m(()=>[c("开通会员，解锁全部联系方式")]),_:1})),w(A,{show:s.showSheet,"onUpdate:show":i[1]||(i[1]=l=>s.showSheet=l),actions:s.sheetActions,onSelect:C},null,8,["show","actions"])])}}},Ie=U(ye,[["__scopeId","data-v-1161bf5b"]]);export{Ie as default};
