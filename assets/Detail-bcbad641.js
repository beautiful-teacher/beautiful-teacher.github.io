import{T as Q}from"./TeacherList-c3454e62.js";import{k as T,l as q,e as f,m as E,s as R,_ as U,u as j,g as z,r as F,n as G,q as L,a as p,b as d,c as u,d as e,f as c,t as n,v as a,i as g,F as y,h as k,w as m,x as w,p as Z,j as $}from"./index-228aa707.js";import{u as H}from"./UserInfo-83169be6.js";import{m as M,u as O}from"./mount-component-2d83c6e2.js";let v;const W={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};function X(){({instance:v}=M({setup(){const{state:t,toggle:h}=O(),o=()=>{t.images=[]};return()=>f(R,E(t,{onClosed:o,"onUpdate:show":h}),null)}}))}const J=(t,h=0)=>{if(T)return v||X(),t=Array.isArray(t)?{images:t,startPosition:h}:t,v.open(q({},W,t)),v};const _=t=>(Z("data-v-c085a5cd"),t=t(),$(),t),K={class:"detail-wrap"},Y={class:"teacher"},ee={class:"teacher-info"},se={class:"teacher-info-item"},te=_(()=>e("span",{class:"key-info"},"编号：",-1)),oe={class:"teacher-info-item"},ae=_(()=>e("span",{class:"key-info"},"艺名：",-1)),ne={class:"teacher-info-item"},ie=_(()=>e("span",{class:"key-info"},"年龄：",-1)),ce={class:"teacher-info-item"},le=_(()=>e("span",{class:"key-info"},"位置：",-1)),re={class:"teacher-info-item"},de={key:0,class:"key-info"},_e={class:"teacher-info-item"},he=_(()=>e("span",{class:"key-info"},"价格：",-1)),pe={class:"teacher-info-item"},ue=_(()=>e("span",{class:"key-info"},"资源价格：",-1)),me={key:0,class:"teacher-info-item"},fe=_(()=>e("span",{class:"key-info"},"联系方式：",-1)),ve={class:"teacher-photo"},ge=["src"],we=_(()=>e("img",{src:"https://tanhua11111234.oss-cn-hangzhou.aliyuncs.com/wx.jpeg",class:"vx-image"},null,-1)),ye={__name:"Detail",setup(t){const h=j();z();const o=F({showDialog:!1,id:"",detailData:{},distance:h.query.distance,showSheet:!1,isVip:!1,sheetActions:[{name:"百度地图"},{name:"高德地图"}]}),S=()=>{o.showDialog=!0},C=(r,i)=>{J({images:r,startPosition:i,closeable:!0})},s=G(()=>{const{id:r}=h.query;return Q.find(i=>i.id===r)}),x=r=>{o.showSheet=!1,r.name==="百度地图"&&(location.href=`iosamap://path?sourceApplication${s.location}&sid=BGVIS1&slat=39.92848272&slon=116.39560823&sname=A&did=BGVIS2&dlat=39.98848272&dlon=116.47560823&dname=B&dev=0&t=0`)};L(async()=>{o.isVip=I(),console.log("mounted")});const I=()=>{const r=localStorage.getItem("userPhone");return!!H.find(i=>i.id===r)};return(r,i)=>{const D=p("van-tag"),V=p("van-swipe-item"),b=p("van-swipe"),P=p("van-dialog"),B=p("van-button"),A=p("van-action-sheet");return d(),u("div",K,[e("div",Y,[e("div",ee,[e("div",se,[te,c(n(a(s).id),1)]),e("div",oe,[ae,c(n(a(s).name),1)]),e("div",ne,[ie,c(n(a(s).age)+"年",1)]),e("div",ce,[le,c(n(a(s).location)+"(距您："+n(o.distance)+") ",1)]),e("div",re,[a(s).hometown?(d(),u("span",de,"家乡：")):g("",!0),c(n(a(s).hometown),1)]),e("div",_e,[he,c("¥"+n(a(s).price),1)]),e("div",pe,[ue,c("¥"+n(a(s).concatPrice),1)]),o.isVip?(d(),u("div",me,[fe,c("QQ："+n(a(s).QQ||"--")+" WX："+n(a(s).wx||"--"),1)])):g("",!0),(d(!0),u(y,null,k(a(s).tags,l=>(d(),w(D,{type:"warning",key:l,class:"item-tag"},{default:m(()=>[c(n(l),1)]),_:2},1024))),128))]),e("div",ve,[f(b,{autoplay:3e3,"lazy-render":"",class:"my-swipe"},{default:m(()=>[(d(!0),u(y,null,k(a(s).pic,(l,N)=>(d(),w(V,{key:l,onClick:ke=>C(a(s).pic,N)},{default:m(()=>[e("img",{src:l},null,8,ge)]),_:2},1032,["onClick"]))),128))]),_:1})])]),o.isVip?g("",!0):(d(),w(P,{key:0,show:o.showDialog,"onUpdate:show":i[0]||(i[0]=l=>o.showDialog=l),title:"添加小二vx后获取","show-cancel-button":""},{default:m(()=>[we]),_:1},8,["show"])),f(B,{type:"success",onClick:S,class:"submit-btn"},{default:m(()=>[c("获取联系方式")]),_:1}),f(A,{show:o.showSheet,"onUpdate:show":i[1]||(i[1]=l=>o.showSheet=l),actions:o.sheetActions,onSelect:x},null,8,["show","actions"])])}}},De=U(ye,[["__scopeId","data-v-c085a5cd"]]);export{De as default};
