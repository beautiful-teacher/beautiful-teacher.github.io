import{T as M}from"./TeacherList-df83c107.js";import{L}from"./TeacherList-91eb2163.js";import{_ as g}from"./_plugin-vue_export-helper-c27b6911.js";import{r as y,o as B,a as f,b as x,c as b,d as k,e as i,w as d,f as v}from"./index-afa7844c.js";const C={class:"greetings"},P={class:"notice-wrap"},D={__name:"List",props:{},setup(I){const s=y({searchKey:"",list:M,map:new BMap.Map("container"),myLongitude:0,myLatitude:0,ak:"DwkPt9ifSC1skP60XOKVdKnD047AF30a",areaCode:""});B(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{const{longitude:n,latitude:t}=e.coords;console.log(n,t),s.myLongitude=n,s.myLatitude=t,w()},e=>{throw e.message})});const w=e=>{new BMap.Map("container").centerAndZoom(new BMap.Point(s.myLongitude,s.myLatitude),12);let t=new BMap.Geocoder;for(const a of s.list)t.getPoint(a.location,o=>{if(o){const{lng:c,lat:l}=o,{myLongitude:p,myLatitude:u}=s;Reflect.set(a,"distance",h(p,u,c,l)),a.distance=h(p,u,c,l)}else alert("您选择的地址没有解析到结果！")},"北京")},h=(e,n,t,a)=>{let o="";if(e!=null&&n!=null&&t!=null&&a!=null){t=t*1,a=a*1;let c=_(e),l=_(t),p=c-l,u=_(n)-_(a),r=2*Math.asin(Math.sqrt(Math.pow(Math.sin(p/2),2)+Math.cos(c)*Math.cos(l)*Math.pow(Math.sin(u/2),2)));r=r*6378.137,r=Math.round(r*1e4)/1e4;let m=r;m&&(parseInt(m)>=1?o=m.toFixed(1)+"km":o=m*1e3+"m")}return o},_=e=>e*Math.PI/180;return(e,n)=>{const t=f("van-swipe-item"),a=f("van-swipe"),o=f("van-notice-bar");return x(),b("div",C,[k("div",P,[i(o,{"left-icon":"volume-o",scrollable:!1},{default:d(()=>[i(a,{vertical:"",class:"notice-swipe",autoplay:4e3,"show-indicators":!1,scrollable:""},{default:d(()=>[i(t,null,{default:d(()=>[v("有需要合作推广的小姐姐，+Q 3483844719")]),_:1}),i(t,null,{default:d(()=>[v("限时会员只需要298，解锁全部老师联系方式")]),_:1}),i(t,null,{default:d(()=>[v("投放广告点下方合作")]),_:1})]),_:1})]),_:1})]),i(L,{listData:s.list},null,8,["listData"])])}}},K=g(D,[["__scopeId","data-v-07c32767"]]);export{K as default};
